---

title: 【ADAS】国外成熟项目调研 —— Waymo

date: 2018.06.01

categories: 自动驾驶仿真测试

tags: 

 - CATARC

description:  Waymo

---

# 项目背景、目的
Waymo 自动驾驶汽车公司
前身：谷歌汽车自驾车项目
所属公司：Google, Inc(2009–2016)     Alphabet, Inc.(2016–present)

“Waymo”这个公司名所代表的是“A new way forward in mobility”（未来新的机动方式）

2018年3月3日消息，据《福布斯》网站报道，Waymo表示公司的测试车队已在公路上以自动驾驶模式行驶了500万英里（约合800万公里）

Waymo自动驾驶系统的开发则基于无人参与，在国际汽车工程师学会（SAE International）的定义上来看，属于自动驾驶系统的Level 4级别，可在任何系统故障的情况下，给车辆安全制停的能力，而无需人类驾驶员接管。


# 一、传感器
![IMAGE](/images/ADAS_Waymo/5B3E9165BB4CC23F9A7C48337829C1EA.jpg)
## 1 LiDAR（激光雷达）系统
（测距）LiDAR 可在每秒内输出数百万个360°的激光脉冲，测量反射到表面并返回车辆所需的时间，可生成详细的环境3D图。该车将激光测量与高分辨率地图相结合，生成不同类型的数据模型，使其能够避开障碍物并遵守交通法规地行驶。

三种类型激光雷达：
1. 短程激光雷达可以让车辆持续不断地观察和监控；
2. 高分辨率的中程激光雷达；
3. 新一代功能强大的长距离激光雷达，视线面积可达三个足球场。

## 2 视觉（照相机）系统
（视野开阔）具有360°视野
（辨别指示灯颜色）由于Waymo的高分辨率视觉系统能检测到色彩，它可以帮助系统发现交通指示灯、施工区、校车和应急车辆的灯光。
（多相机组合）Waymo的视觉系统由多套高分辨率相机组成，以便在长距离、日光和低亮度的情况下也能很好的工作。

## 3 雷达系统
（极端天气下也能感知物体和运动）雷达使用波长来感知物体和运动。这些波长能够在诸如雨滴等物体的周围进行传播，从而可以让雷达在雨、雾、雪天气中都发挥效果。
（视野开阔）Waymo的雷达系统具有连续的360°视野，可以跟踪车辆的前后方和两侧过路车辆的行驶速度。

## 4 补充传感器
（检测警报声）音频检测系统：可以听到数百英尺远的警车和紧急车辆发出的警报声。
（精确地理位置）GPS：可以补充车辆对其地理位置的了解。


# 二、3种自动驾驶软件测试
每次更新都会经过模拟测试，封闭路段测试和公共道路测试。
## 1 模拟测试
自动驾驶模拟系统 Carcraft，取义自著名的网络游戏World of Warcraft（魔兽世界）。

流程：
1. 搭建场景
专注于最具挑战性的路口而不是单一的高速公路，比如闪着黄灯的左转路口、犯错的司机和不按规则出牌的自行车。
![IMAGE](/images/ADAS_Waymo/0B28709DB13A28F301E469F3942577F1.jpg)
2. 进行驾驶
可以让车队中不同的车辆在相同的驾驶条件下多次通过同一个路口。
在Carcraft中创建的合成场景：
![IMAGE](/images/ADAS_Waymo/E5212B23F772D454992990C170257AAB.jpg)
正在Xview中模拟的场景：
![IMAGE](/images/ADAS_Waymo/5289E6E85268C30137E1F8997BE25D72.jpg)
3. 探索无数种可能性
![IMAGE](/images/ADAS_Waymo/45E73101E28FD28BD47D3AD3B0290E33.jpg)
通过“模糊（fuzzing）”过程，可以改变这些虚拟街道上各种物体的速度、轨迹和位置。
例子：
在环形十字路口，你可能想要测试各类汽车、行人和骑自行车的人的到达时间，他们多久会停下来，以及他们移动的速度，或者任何其他方面。他们只要为这些物体设置一个合理的值，该软件就能为其创建并运行这些场景的所有组合。他们将其称为“模糊”，在这种情况下，这个十字路口会产生800个场景。
4. 验证和迭代

Carcraft建立虚拟场景的数据，有一些来自路测，更多则来自Waymo的测试基地Castle。
## 2 封闭路段测试
Castle基地，位于美国加州中央山谷地区的小城默塞德附近，是占地91英亩的私有封闭式测试设施。在Castle之中，有可移动的建筑物模型，圆顶的仓库，还有各种各样的无人车。


## 3 公共道路测试
### 真实场景体验
过去8年，Waymo 在美国4个州进行了测试，在20多个城市里实现了自动驾驶。经过旧金山及湾区的所有桥梁，也体验过圣克鲁斯山脉的山丘和亚利桑那州的沙尘暴。
例如：
辨别应急车辆
浇水车在路中间浇水的时候，速度可从 3 英里/小时提高到 45 英里/小时。
旧金山的陡峭山坡
大凤凰城的沙漠
罕见的行驶情况 （如遇到从帆布袋跳出来的人或躺在板上的滑板手）
常见的碰撞情况（如汽车翻出车道）。
### 极端温度下的自动驾驶
1. 风洞测试
2. 实际测试
酷热：
- 在美国三个最热的地方也测试了我们的自动驾驶车辆：拉斯维加斯，戴维斯丹以及死亡峡谷。
- 戴维斯丹位于亚利桑那和内华达州的边境，有漫长陡峭的沙漠公路可以在烈日下行驶。
- 拉斯维加斯可以让我们在烈日下无数停停走走的城市拥堵路况下测试我们的车辆。
- 死亡峡谷则拥有地球上官方记载的最高温度134℉（57℃）。
严寒：
- 曾于 2018年 3 月在太浩湖（Lake Tahoe）的大雪天气进行测试。


### 硬件可靠性和耐久性测试
首先，使零部件暴晒于紫外线辐射中，随后用强力水枪进行冲刷，将车辆浸在几近零度的水桶中、令其在充满盐雾的车间内慢慢腐蚀，借助强力晃动，使车辆摇晃及震颤，最后将其置于潮湿的空间内进行加热及冷冻，时间长达数周。



## 三种测试的关系
“结构化测试”流程

无人车路测遇到问题后，他们会在 Castle 训练基地实地重建所遇到的场景，供无人车继续练习。在路测和Castle基地的测试中，Waymo的车辆都会收集大量数据，随后，这些数据会被用到他们的模拟软件Carcraft之中，在虚拟环境中重现这个场景。

（路测 -> Castle -> Carcraft -> ...   循环，不断训练）

经历了一轮又一轮的练习，自动驾驶程序的能力得到提升后，会被下载到实体的路测车辆之中，去完成更多、更复杂的路测里程。


# 三、数据

## 收集数据的方法
Waymo 先是使用性能强大的计算机进行模拟数据收集，之后再将这些数据应用到其自动驾驶车队当中。
（与此相反，特斯拉收集的是客户实际驾驶时的数据，数十万辆特斯拉汽车能够带来各种各样的数据资源。）
## 数据信息处理
在模拟系统中，每天有超过 25000 辆虚拟自动驾驶汽车反复体验类似在实际道路上遇到的恶劣环境，有时甚至会把实际行驶的所有路程环境都重新模拟学习一遍。经过周期性的学习，汽车可以充分掌握所传授的先进必需驾驶技能。

# 四、评价体系
##美国加州车管局(DMV)2017自动驾驶测试报告
![IMAGE](/images/ADAS_Waymo/66DC88045E32EF2FDB976FB5836ED1D5.jpg)
DMV的报告中最核心的是两个数据：
1. 某公司在加州测试自动驾驶车的总里程。
2. 自动驾驶测试中发生的“脱离”（disengagement）数，“脱离”即车辆的自动驾驶系统Hold不住，必须中断自动驾驶模式的情况。

![IMAGE](/images/ADAS_Waymo/A67E9F0D7D623C38082A836CDE2B5A90.jpg)
两者相除，就能得到MPD（Miles Per Disengagement），即**一辆自动驾驶车平均跑多少英里才脱离一次**。
某种程度上，这是目前仅有的，政府制定的，涉及公司最多的，衡量自动驾驶技术水平的量化标准。

##Waymo的情况

2017年的12个月中，Waymo投入75台车在加州总共测试了352,545英里的路程，而脱离次数只有63次，也就是说Waymo的无人车平均每跑5600英里才会出现一次无法应对的情况。这个成绩在参与测试的无人车中一骑绝尘，和第二名的通用拉开了4倍的差距。
而谷歌的无人车出岔子主要有三条原因：感知系统出现了偏差，硬件、软件不对劲，还有一条谷歌的人也不知道怎么回事，只能写上“无人车开得谨慎过头”（unwanted maneuver of the vehicle ）。

# 五、质疑
有人觉得模拟驾驶无法带来技术上的提高。
RAND公司高级信息科学家尼迪•卡拉（Nidhi Kalra）举了个很有意思的例子，她说：“一个人可以在《侠盗猎车》游戏里开车几十亿英里，但这不能证明他在现实中的驾驶技术有所提高。”

#参考资料
[1]李忠东.吹响自动驾驶集结号[J].汽车与配件,2018,(8):52-56.
[1].谷歌无人车路试新进展:56.6度高温正常工作[J].商业文化,2017(22):38.
[1]李忠东.聚焦自动驾驶汽车技术的国际资讯[J].轻型汽车技术,2018(03):49-56.
[Waymo无人车报告：通往自动驾驶之路](https://www.leiphone.com/news/201710/JknkYopJ14gVMSyK.html)
[揭秘Waymo，世界最先进自动驾驶公司的成长秘辛](https://www.leiphone.com/news/201708/4h5nzrnCXeWuaWJH.html)
[特斯拉、Waymo，谁的自动驾驶数据收集更有效？](http://k.sina.com.cn/article_1911132352_71e990c000100599b.html)
[Waymo无人车的两件秘密武器：模拟软件Carcraft，秘密基地Castle](http://news.ifeng.com/a/20170824/51745181_0.shtml)
[2017全球自动驾驶成绩单：谷歌彪悍奔驰垫底，百度首上榜](http://www.jiemian.com/article/1922397.html)