<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"vikingstudyhard.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="开发人员如果具备了性能测试和性能优化的技能，在成长为架构师的路上会更加有竞争力。本门课程以Jmeter为中心给大家介绍了最最常用的性能测试的工具，通过对不同类型的系统进行性能测试，了解性能测试在真实项目中的意义，最后通过测试加压来观察和分析系统的瓶颈。">
<meta property="og:type" content="article">
<meta property="og:title" content="【软件测试】《高性能产品的必由之路—性能测试工具》课程笔记">
<meta property="og:url" content="https://vikingstudyhard.github.io/2018/04/10/ST_PerformanceTestingTools/index.html">
<meta property="og:site_name" content="加载起来特别特别慢的小博客">
<meta property="og:description" content="开发人员如果具备了性能测试和性能优化的技能，在成长为架构师的路上会更加有竞争力。本门课程以Jmeter为中心给大家介绍了最最常用的性能测试的工具，通过对不同类型的系统进行性能测试，了解性能测试在真实项目中的意义，最后通过测试加压来观察和分析系统的瓶颈。">
<meta property="og:locale">
<meta property="og:image" content="https://vikingstudyhard.github.io/images/ST_PerformanceTestingTools/6B2873CF3A26828BA69635F86FC866EA.png">
<meta property="og:image" content="https://vikingstudyhard.github.io/images/ST_PerformanceTestingTools/0F542BC62FAF87FB2A32979E4025B8CB.png">
<meta property="og:image" content="https://vikingstudyhard.github.io/images/ST_PerformanceTestingTools/CB30A7A7DBE174E183C8F90FEAC8E776.png">
<meta property="article:published_time" content="2018-04-09T16:00:00.000Z">
<meta property="article:modified_time" content="2021-05-11T06:56:58.511Z">
<meta property="article:author" content="VikingWang">
<meta property="article:tag" content="SoftwareTest">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://vikingstudyhard.github.io/images/ST_PerformanceTestingTools/6B2873CF3A26828BA69635F86FC866EA.png">

<link rel="canonical" href="https://vikingstudyhard.github.io/2018/04/10/ST_PerformanceTestingTools/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-Hans'
  };
</script>

  <title>【软件测试】《高性能产品的必由之路—性能测试工具》课程笔记 | 加载起来特别特别慢的小博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">加载起来特别特别慢的小博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">图片墙第一弹第二弹欢迎惠顾！</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-photo">

    <a href="/photo/" rel="section"><i class="fa fa-camera fa-fw"></i>photo</a>

  </li>
        <li class="menu-item menu-item-photo2">

    <a href="/photo2/" rel="section"><i class="fa fa-camera fa-fw"></i>photo2</a>

  </li>
        <li class="menu-item menu-item-friends">

    <a href="/friends/" rel="section"><i class="fa fa-rocket fa-fw"></i>friends</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://vikingstudyhard.github.io/2018/04/10/ST_PerformanceTestingTools/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.JPG">
      <meta itemprop="name" content="VikingWang">
      <meta itemprop="description" content="这是一个需要耐心等着加载的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="加载起来特别特别慢的小博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          【软件测试】《高性能产品的必由之路—性能测试工具》课程笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-04-10 00:00:00" itemprop="dateCreated datePublished" datetime="2018-04-10T00:00:00+08:00">2018-04-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-05-11 14:56:58" itemprop="dateModified" datetime="2021-05-11T14:56:58+08:00">2021-05-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/" itemprop="url" rel="index"><span itemprop="name">软件测试</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E6%9C%AC%E7%A7%91%E8%AF%BE%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">本科课程</span></a>
                </span>
            </span>

          
            <div class="post-description">开发人员如果具备了性能测试和性能优化的技能，在成长为架构师的路上会更加有竞争力。本门课程以Jmeter为中心给大家介绍了最最常用的性能测试的工具，通过对不同类型的系统进行性能测试，了解性能测试在真实项目中的意义，最后通过测试加压来观察和分析系统的瓶颈。</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><a target="_blank" rel="noopener" href="http://www.imooc.com/learn/278">高性能产品的必由之路—性能测试工具（慕课网网址）</a></p>
<h1 id="1章-背景介绍"><a href="#1章-背景介绍" class="headerlink" title="1章 背景介绍"></a>1章 背景介绍</h1><p>本章主要介绍了性能测试的产生背景。</p>
<h2 id="1-1-性能测试背景介绍-07-33"><a href="#1-1-性能测试背景介绍-07-33" class="headerlink" title="1-1 性能测试背景介绍 (07:33)"></a>1-1 性能测试背景介绍 (07:33)</h2><p>横向扩展：如淘宝平时只开1000台服务器，双十一时会开5000台服务器，平时多出来的机器可用于“阿里云”服务器租赁。</p>
<p>数据库优化：当十万个用户使用数据库时就可能出现问题，需要优化数据库</p>
<p>让一台机器能够承载更多的用户请求<br>#2章 性能测试概要<br>本章主要讲解性能测试的相关概念和实际开发中的意义，并阐述了软件性能的一些关键性指标。</p>
<h2 id="2-1-课程简介-00-45"><a href="#2-1-课程简介-00-45" class="headerlink" title="2-1 课程简介 (00:45)"></a>2-1 课程简介 (00:45)</h2><h2 id="2-2-关于性能的几个案例分析-05-02"><a href="#2-2-关于性能的几个案例分析-05-02" class="headerlink" title="2-2 关于性能的几个案例分析(05:02)"></a>2-2 关于性能的几个案例分析(05:02)</h2><p>性能测试概要<br>案例：</p>
<ul>
<li>反例：12306、2008奥运会订票</li>
<li>正例：淘宝双十一</li>
</ul>
<p>实际情况超过了承载能力</p>
<h2 id="2-3-性能的关键指标介绍-11-03"><a href="#2-3-性能的关键指标介绍-11-03" class="headerlink" title="2-3 性能的关键指标介绍 (11:03)"></a>2-3 性能的关键指标介绍 (11:03)</h2><p>案例的共同特点：</p>
<ul>
<li>同时有超多的用户使用网站服务</li>
<li>网站宕机</li>
</ul>
<h3 id="性能测试"><a href="#性能测试" class="headerlink" title="性能测试"></a>性能测试</h3><p>通过技术的手段模拟大量用户<strong>同时</strong>访问被测应用，观察、记录和分析系统的<strong>各项性能指标</strong>的过程。</p>
<ul>
<li>模拟大量并发用户</li>
<li>监控系统负载参数，分析系统瓶颈</li>
</ul>
<p>性能测试的目标：评估系统的性能瓶颈，预测系统的最大用户承载能力。</p>
<h3 id="性能指标"><a href="#性能指标" class="headerlink" title="性能指标"></a>性能指标</h3><h4 id="平均响应时间-TTLB-Time-to-laster-by"><a href="#平均响应时间-TTLB-Time-to-laster-by" class="headerlink" title="平均响应时间(TTLB,Time to laster by)"></a>平均响应时间(TTLB,Time to laster by)</h4><p>平均每个请求从发送到接收响应的时间</p>
<p><img src="/images/ST_PerformanceTestingTools/6B2873CF3A26828BA69635F86FC866EA.png" alt="p1.png"></p>
<h5 id="合理的平均响应时间：2-5-10原则"><a href="#合理的平均响应时间：2-5-10原则" class="headerlink" title="合理的平均响应时间：2/5/10原则"></a>合理的平均响应时间：2/5/10原则</h5><p>当用户能够在2秒以内得到响应时，会感觉系统的响应很快；<br>当用户在2-5秒之间得到响应时，会感觉系统的响应速度还可以；<br>当用户在5-10秒以内得到响应时，会感觉系统的响应速度很慢，但是还可以接受；<br>而当用户在超过10秒后仍然无法得到响应时，会感觉系统糟透了，或者认为系统已经失去响应，而选择离开这个Web站点，或者发起第二次请求。</p>
<p>所以：最好在在五秒以内</p>
<h5 id="平均响应时间业务影响"><a href="#平均响应时间业务影响" class="headerlink" title="平均响应时间业务影响"></a>平均响应时间业务影响</h5><p>1秒的页面加载延迟相当于少了11%的PV(page view)，相当于降低了16%的顾客满意度。</p>
<p>页面响应时间从2秒增加到10秒会导致38%的页面浏览放弃率</p>
<h4 id="系统资源类的性能指标"><a href="#系统资源类的性能指标" class="headerlink" title="系统资源类的性能指标"></a>系统资源类的性能指标</h4><ul>
<li>CPU（CPU的占用率）Apache进程的数量</li>
<li>内存（内存占用率、换页数等）用户量的增加</li>
<li>I/O（读写请求数、读写量等）与数据库服务器有关。MySQL服务器，数据存在硬盘，最近、常用的数据缓存在内存，高并发用户访问时，真正瓶颈还是在I/O，I/O越少性能提高的效果越好</li>
<li>带宽（进站出站带宽占用率）和钱有关，要买新的带宽</li>
</ul>
<h2 id="2-4-为什么要进行性能测试-01-59"><a href="#2-4-为什么要进行性能测试-01-59" class="headerlink" title="2-4  为什么要进行性能测试 (01:59)"></a>2-4  为什么要进行性能测试 (01:59)</h2><h3 id="为什么要进行性能测试"><a href="#为什么要进行性能测试" class="headerlink" title="为什么要进行性能测试"></a>为什么要进行性能测试</h3><p>能够有效评估系统的<strong>性能指标</strong>，用于系统的性能评估<br>能够识别系统的<strong>性能瓶颈</strong>，协助性能调优<br>能够指导<strong>突发流量承载</strong>方案的制定<br>能够用于系统运维<strong>成本的预算</strong></p>
<h2 id="2-5-性能测试分类-03-57"><a href="#2-5-性能测试分类-03-57" class="headerlink" title="2-5  性能测试分类 (03:57)"></a>2-5  性能测试分类 (03:57)</h2><h3 id="性能测试的一般分类"><a href="#性能测试的一般分类" class="headerlink" title="性能测试的一般分类"></a>性能测试的一般分类</h3><p>1.<strong>负载测试</strong>(Load Test)<br>为了验证系统设计符合<strong>正常</strong>业务负载情况下系统性能表现的测试。有明确的指标。<br>2.<strong>压力测试</strong>(Stress Test)<br>为了验证系统在<strong>极端</strong>负载情况下的性能表现的测试。（找到瓶颈和极限处）</p>
<p>负载测试由开发人员执行，压力测试由测试人员执行。</p>
<p>开发人员的性能测试更加关注在一定负载情况下系统资源占有率，从而找到内存泄露，链接泄露和系统的性能瓶颈。<br>#3章 性能测试相关工具<br>本章带领待解学习使用性能测试的相关工具。</p>
<h2 id="3-1-使用Top获取进程的资源占用信息-09-30"><a href="#3-1-使用Top获取进程的资源占用信息-09-30" class="headerlink" title="3-1 使用Top获取进程的资源占用信息 (09:30)"></a>3-1 使用Top获取进程的资源占用信息 (09:30)</h2><h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><p>一台CentOS服务器（虚拟机）<br>一个可以连接服务器的SSH工具，推荐Putty （开源 无管制）</p>
<h3 id="性能测试工具-top"><a href="#性能测试工具-top" class="headerlink" title="性能测试工具 top"></a>性能测试工具 top</h3><blockquote>
<p>监控每一个进程的资源占用</p>
</blockquote>
<p>打开putty</p>
<p>命令行中输入<code>top</code><br>显示 系统状态信息、进程信息<br>Cpu中idle(空闲率)降到30%一下就说明CPU占用率特别高，就有问题了</p>
<ul>
<li>帮助：<code>h</code></li>
<li>调整顺序：<code>o</code>  显示出不同的字母对应的条目。大写字母往左移，小写字母往右移。*表示正在显示的条目。esc键退出。</li>
<li>排序(从大到小)：<code>F</code>或<code>O</code> 通过输入对应的字母来确定排序的条件。*星号表示正在使用的排序条件。输入任意键退出。</li>
<li>进程相关的条目有：<br>PID 进程的id<br>USER 打开进程的用户<br>PR priory 进程可被执行的优先级 值越小优先级越高，越早被执行。<br>NI nice 优先级的修正数值 PRI(new)=PRI(old)+nice<br>VIRT 虚拟内存的大小<br>RES 真实的物理内存的大小<br>SHR 共享内存的大小<br>%MEM 内存使用率<br>%CPU CPU使用率<br>TIME+ 真正运行的时长<br>COMMAND 具体运行的命令</li>
<li>参看具体说明 输入 <code>man</code></li>
<li>查看所有的进程 <code>top -ab -n 1</code><br>a 按照内存的倒序排序<br>b 把所有的列全部列出<br>n 只执行一次，不会一直更新</li>
<li>过滤出httpd  <code>top -ab -n 1 | grep httpd</code></li>
</ul>
<h2 id="3-2-性能统计工具sysstat安装配置-06-00"><a href="#3-2-性能统计工具sysstat安装配置-06-00" class="headerlink" title="3-2 性能统计工具sysstat安装配置 (06:00)"></a>3-2 性能统计工具sysstat安装配置 (06:00)</h2><h3 id="性能测试工具-sysstat"><a href="#性能测试工具-sysstat" class="headerlink" title="性能测试工具 sysstat"></a>性能测试工具 sysstat</h3><blockquote>
<p>统计系统的各种资源的占用情况</p>
</blockquote>
<ul>
<li> 安装sysstat <code>yum list sysstat</code> 相当于Ubuntu下的 <code>apt-get install sysstat</code> 没有“Installed Packages”时需要 <code>yum install sysstat.x86-64(安装包名字) -y</code><br>y表示自动确认，不加的话会询问</li>
<li> sysstat工具集的配置文件位置 <code>cat /etc/cron.d/sysstat</code><br>sysstat定时获取统计数据的时间间隔<br>其中</li>
</ul>
<blockquote>
<p>/1 * * * * root /usr/lib64/sa/sa1 1 1</p>
</blockquote>
<p>sa1 每隔一分钟执行一次，以root的身份来运行。<br>这里10要改成1。开发环境最好设置为1分钟，生产环境10分钟。</p>
<blockquote>
<p>53 23 * * * root /usr/lib64/sa/sa2 -A</p>
</blockquote>
<p>sa2 每天23:53生成日常总结报告。</p>
<ul>
<li>sysstat 的统计报告在/var/log/sa下<br>sa指的是每分钟得到的报告，sar表示的是daily summery</li>
</ul>
<h2 id="3-3-sysstat常用命令之CPU监控-09-04"><a href="#3-3-sysstat常用命令之CPU监控-09-04" class="headerlink" title="3-3 sysstat常用命令之CPU监控 (09:04)"></a>3-3 sysstat常用命令之CPU监控 (09:04)</h2><p>###<code>sar -q -f sa25</code> 任务数，繁重程度</p>
<ul>
<li>runq-sz: Run queue length(number of tasks waiting for run time)等待执行的任务队列长度。越长阻塞越严重。</li>
<li>plist-sz: number of task in the task list 队列中的任务总数</li>
<li>ldavg-1,ldavg-5,ldavg-15: system load average for the last minute,1分钟、5分钟、15分钟内系统负载描述。<br>值是通过执行中任务和等待执行的任务的个数的平均值得到的。<br>ldavg-1 &gt; CPU总数时，表示CPU压力大<br>ldavg-1 &gt; ldavg-5 &gt; ldavg-15 时说明当前CPU压力越来越大，需要注意。<br>ldavg-1 &lt; ldavg-5 &lt; ldavg-15 时说明当前CPU压力正在减小。</li>
</ul>
<p>###<code>sar -p -f sa25</code> 查看CPU各项指标占用的百分比</p>
<ul>
<li>%user</li>
<li>%nice: 改过优先级的进程CPU占用率</li>
<li>%system</li>
<li>%iowait: 等待磁盘读写的百分比。</li>
<li>%steal: 管理程序(hypervisor)为另一个虚拟进程提供服务而等待虚拟CPU的百分比，等待CPU。值越大，CPU繁重程度越高。</li>
<li>%idle: 空闲的百分比</li>
</ul>
<h2 id="3-4-sysstat常用命令之内存监控-06-28"><a href="#3-4-sysstat常用命令之内存监控-06-28" class="headerlink" title="3-4 sysstat常用命令之内存监控 (06:28)"></a>3-4 sysstat常用命令之内存监控 (06:28)</h2><h3 id="sar-r-f-sa25-内存实际占用百分比"><a href="#sar-r-f-sa25-内存实际占用百分比" class="headerlink" title="sar -r -f sa25  内存实际占用百分比"></a><code>sar -r -f sa25</code>  内存实际占用百分比</h3><ul>
<li>kbmemfree: 空闲的内存</li>
<li>kbmemused: 已经使用的内存</li>
<li>%memused: 内存使用率</li>
<li>kbbuffers: 文件的缓存 </li>
<li>kbcached: 磁盘块的缓存</li>
<li>kbcommit: 保证程序的的正常运行需要的内存</li>
<li>%commit: 与memused的和若大于100%，则会导致内存频繁换页，使用虚拟内存</li>
</ul>
<h3 id="sar-B-f-sa25-主存-内存-与块设备-硬盘-之间换页频繁程度"><a href="#sar-B-f-sa25-主存-内存-与块设备-硬盘-之间换页频繁程度" class="headerlink" title="sar -B -f sa25 主存(内存)与块设备(硬盘)之间换页频繁程度"></a><code>sar -B -f sa25</code> 主存(内存)与块设备(硬盘)之间换页频繁程度</h3><ul>
<li>pgpgin/s: 每秒从磁盘到内存的换页（换进）的字节数KB。</li>
<li>pgpgout/s: 每秒从内存到磁盘的换页（换出）的字节数KB。这两个数值如果很大，意味着IO读写压力很大，当前，内存是瓶颈。</li>
<li>fault/s: 每秒系统产生的缺页数。内存里没有，要去磁盘里读取。等于major+minor</li>
<li>majflt/s: 主缺页，必须发生换页</li>
<li>pgfree/s </li>
<li>pgscank/s </li>
<li>pgsteal/s </li>
<li>%vmeff </li>
</ul>
<h3 id="sar-w-f-sa25-指虚拟内存中-从块设备swap区中读入-读出的页数"><a href="#sar-w-f-sa25-指虚拟内存中-从块设备swap区中读入-读出的页数" class="headerlink" title="sar -w -f sa25 指虚拟内存中,从块设备swap区中读入/读出的页数"></a><code>sar -w -f sa25</code> 指虚拟内存中,从块设备swap区中读入/读出的页数</h3><ul>
<li>pswpin/s (page swap in)虚拟内存中,从块设备swap区中读入的页数</li>
<li>pswpout/s (page swap out)虚拟内存中,从块设备swap区中读出的页数</li>
</ul>
<h2 id="3-5-sysstat常用命令之IO监控-04-47"><a href="#3-5-sysstat常用命令之IO监控-04-47" class="headerlink" title="3-5 sysstat常用命令之IO监控 (04:47)"></a>3-5 sysstat常用命令之IO监控 (04:47)</h2><h3 id="sar-b-f-sa25-IO的频繁程度"><a href="#sar-b-f-sa25-IO的频繁程度" class="headerlink" title="sar -b -f sa25 IO的频繁程度"></a><code>sar -b -f sa25</code> IO的频繁程度</h3><ul>
<li> tps: 每秒钟物理设备的IO请求次数 tps=rtps+wtps </li>
<li> rtps: 每秒钟从物理设备读入的请求次数</li>
<li> wtps: 每秒钟从物理设备写入的请求次数</li>
<li> bread/s: 每秒钟从物理设备读入的数据量，单位为 块/s</li>
<li> bwrtn/s: 每秒钟向物理设备写入的数据量，单位为 块/s</li>
</ul>
<p>wtps比rtps多很多，需要降低写操作次数，如把文件打包一起写到磁盘里。</p>
<h3 id="sar-d-f-sa25-扇区"><a href="#sar-d-f-sa25-扇区" class="headerlink" title="sar -d -f sa25 扇区"></a><code>sar -d -f sa25</code> 扇区</h3><ul>
<li>tps 每秒钟物理设备的IO请求次数</li>
<li>rd_sec/s: 每秒读扇区的次数</li>
<li>wr_sec/s: 每秒写扇区的次数</li>
<li>avgrq-sz: 平均每次请求操作的数据的扇区的大小。值越大，每次读写操作read的块特别大。</li>
<li>avgqu-sz: 磁盘请求队列的平均长度。</li>
<li>await: 从请求磁盘操作到系统完成处理，每次请求的平均消耗时间，单位是毫秒(1秒=1000毫秒)。</li>
<li>svctm: 系统处理每次请求的平均时间，不包括请求队列中消耗的时间。</li>
<li>%util: I/O请求占CPU的百分比，比率越大，说明越饱和。</li>
</ul>
<h2 id="3-6-sysstat常用命令之NetWork监控-02-38"><a href="#3-6-sysstat常用命令之NetWork监控-02-38" class="headerlink" title="3-6 sysstat常用命令之NetWork监控 (02:38)"></a>3-6 sysstat常用命令之NetWork监控 (02:38)</h2><h3 id="sar-n-DEV-f-sa25-网络数据交换的量"><a href="#sar-n-DEV-f-sa25-网络数据交换的量" class="headerlink" title="sar -n DEV -f sa25 网络数据交换的量"></a><code>sar -n DEV -f sa25</code> 网络数据交换的量</h3><ul>
<li>DEV显示网络接口信息</li>
<li>EDEV 显示关于网络错误的统计数据</li>
<li>NFS统计活动的NFS客户站端的信息</li>
<li>NFSD统计NFS服务器的信息</li>
<li>OCK显示套接字信息</li>
<li>ALL显示所有5个开关</li>
</ul>
<p>它们可以单独或者一起使用。</p>
<ul>
<li>rxpck/s: 每秒钟接收的数据包</li>
<li>txpck/s: 每秒钟发送的数据包</li>
<li>rxkB/s: 每秒钟接收的字节数</li>
<li>txkB/s: 每秒钟发送的字节数</li>
<li>rxcmp/s: 每秒钟接收的压缩数据包</li>
<li>txcmp/s: 每秒钟发送的压缩数据包</li>
<li>rxmcst/s: 每秒钟接收的多播数据包 </li>
</ul>
<h3 id="sar-n-NFS-f-sa25-网络错误"><a href="#sar-n-NFS-f-sa25-网络错误" class="headerlink" title="sar -n NFS -f sa25 网络错误"></a><code>sar -n NFS -f sa25</code> 网络错误</h3><ul>
<li>IFACE: LAN 接口</li>
<li>rxerr/s: 每秒钟接收的坏数据包</li>
<li>txerr/s: 每秒钟发送的坏数据包</li>
<li>coll/s: 每秒冲突数</li>
<li>rxdrop/s: 因为缓冲充满，每秒钟丢弃的已接收数据包数</li>
<li>txdrop/s: 因为缓冲充满，每秒钟丢弃的已发送数据包数</li>
<li>txcarr/s: 发送数据包时，每秒载波错误数</li>
<li>rxfram/s: 每秒接收数据包的帧对齐错误数</li>
<li>rxfifo/s: 接收的数据包每秒FIFO过速的错误数</li>
<li>txfifo/s: 发送的数据包每秒FIFO过速的错误数</li>
</ul>
<h2 id="3-7-评估磁盘读写性能极限-04-27"><a href="#3-7-评估磁盘读写性能极限-04-27" class="headerlink" title="3-7 评估磁盘读写性能极限 (04:27)"></a>3-7 评估磁盘读写性能极限 (04:27)</h2><h3 id="性能测试工具-fio"><a href="#性能测试工具-fio" class="headerlink" title="性能测试工具 fio"></a>性能测试工具 fio</h3><blockquote>
<p>评估磁盘读写性能极限</p>
</blockquote>
<ul>
<li>安装fio <code>yum list fio</code> 没有“Installed Packages”时需要 <code>yum install fio.x86-64(安装包名字) -y</code></li>
<li><code>fio -filename=/data/test(文件名) -direct=1-iodepth 1 -thread -rw=randrw -ioengine=psync -bs=16k -size 2G -numjobs=10 -runtime=30 -group_reporting -name=mytest13</code> </li>
<li>read里面有iops，指的是每秒钟读几次IO；write里的iops，指的是每秒钟写几次IO</li>
<li>iops低的不适用做数据库服务器</li>
</ul>
<h2 id="3-8-JMeter性能测试工具简介-01-18"><a href="#3-8-JMeter性能测试工具简介-01-18" class="headerlink" title="3-8 JMeter性能测试工具简介 (01:18)"></a>3-8 JMeter性能测试工具简介 (01:18)</h2><h3 id="性能测试工具-JMeter"><a href="#性能测试工具-JMeter" class="headerlink" title="性能测试工具 JMeter"></a>性能测试工具 JMeter</h3><blockquote>
<p>Apache 开源的<br>用于生成大量并发的请求</p>
</blockquote>
<h1 id="4章-被测系统准备"><a href="#4章-被测系统准备" class="headerlink" title="4章 被测系统准备"></a>4章 被测系统准备</h1><p>本章主要带领大家一起安装学习待测系统，为后续的性能测试做准备。</p>
<h2 id="4-1-被测系统ECShop介绍-01-59"><a href="#4-1-被测系统ECShop介绍-01-59" class="headerlink" title="4-1 被测系统ECShop介绍 (01:59)"></a>4-1 被测系统ECShop介绍 (01:59)</h2><h3 id="ECShop-简介"><a href="#ECShop-简介" class="headerlink" title="ECShop 简介"></a>ECShop 简介</h3><p>开源的网上商店系统，商用付费</p>
<h2 id="4-2-被测系统ECShop安装-18-32"><a href="#4-2-被测系统ECShop安装-18-32" class="headerlink" title="4-2 被测系统ECShop安装 (18:32)"></a>4-2 被测系统ECShop安装 (18:32)</h2><h3 id="ECShop-安装"><a href="#ECShop-安装" class="headerlink" title="ECShop 安装"></a>ECShop 安装</h3><p><a target="_blank" rel="noopener" href="http://pan.baidu.com/s/1dDAJvZN">下载链接,仅供学习</a><br>官网上，下载非商业授权版</p>
<h3 id="WinSCP-上传本地文件到服务器"><a href="#WinSCP-上传本地文件到服务器" class="headerlink" title="WinSCP 上传本地文件到服务器"></a>WinSCP 上传本地文件到服务器</h3><p>（FTP也可以，WinSCP用的是SFTP也就是SSH）<br>1.登录服务器<br>会话 -&gt; 新建会话 -&gt; 选择服务器 -&gt; 编辑 -&gt; 填入主机名，端口号，用户名-&gt; 登录</p>
<p>2.上传本地文件到服务器<br>拖动文件到某个目录，传输设置选择“二进制”，点击“复制”</p>
<p>3.用putty登录服务器<br>unzip下载的ECShop压缩包得到文件夹ECShop_V2.7.3_UTF8_release1106<br>里面有docs、upgrade、upload三个子目录</p>
<ul>
<li>docs: 安装的解释说明</li>
<li>upgrade: 用于老版本的更新</li>
<li>upload: 新用户需要复制  <code>cp -r upload /ecshop</code></li>
</ul>
<p>4.修改ecshop文件夹的 owner，改成apache<br><code>chown -R apache:apache ecshop</code></p>
<p>5.配置apache服务器<br>在 /etc/httpd/conf.d 目录下创建 ecshop.conf 文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Listen 83                //83是监听的端口号，所有webapp默认端口都是80</span><br><span class="line">&lt;VirtualHost *:83&gt;                                     //创建虚拟主机</span><br><span class="line">  ServerAdmin oldleader@163.com</span><br><span class="line">  DocumentRoot /ecshop                                       //根目录</span><br><span class="line">  ErrorLog /ecshop/log/error_log                         //出错的日志</span><br><span class="line">  CustomLog /ecshop/log/access_log common //正常访问的日志 common是级别</span><br><span class="line">    &lt;Directory &quot;/data/html/ecshop&quot;&gt;                      //目录权限</span><br><span class="line">      Options Indexes FollowSymLinks</span><br><span class="line">      AllowOverride All</span><br><span class="line">      Order allow,deny</span><br><span class="line">      Allow from all</span><br><span class="line">    &lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>

<p>6.在ecshop文件夹中新建log文件夹<code>mkdir log</code>并修改owner <code>chown -R apache:apache log</code></p>
<p>7.重启服务器apache，访问83端口<br><code>service httpd restart</code><br>访问http://………:83</p>
<p>8.按照提示修改php里timezone等东西<br>在开头注释之前加上<code>date_default_timezone_set(&#39;PRC);</code>保存后刷新页面。</p>
<p>9.配置数据库账号、管理员账号、禁用验证码，安装测试数据</p>
<h2 id="4-3-被测系统功能简介-05-35"><a href="#4-3-被测系统功能简介-05-35" class="headerlink" title="4-3 被测系统功能简介 (05:35)"></a>4-3 被测系统功能简介 (05:35)</h2><p>前往ecshop首页（就是那个83端口）<br>开发人员找到某个页面施压，测试人员都整体网站施压<br>注册会员，登录。</p>
<p>#5章 使用Jmeter进行性能测试<br>本章带领大家从录制脚本开始使用Jmeter进行系统的性能测试。</p>
<h2 id="5-1-JMeter工作原理-04-02"><a href="#5-1-JMeter工作原理-04-02" class="headerlink" title="5-1 JMeter工作原理 (04:02)"></a>5-1 JMeter工作原理 (04:02)</h2><p>JMeter</p>
<p><img src="/images/ST_PerformanceTestingTools/0F542BC62FAF87FB2A32979E4025B8CB.png" alt="p2.png"><br>thread 线程 <strong>一个thread代表一个用户</strong><br>sampler 代表每个请求，采样</p>
<h2 id="5-2-JMeter下载安装及其目录结构说明-05-58"><a href="#5-2-JMeter下载安装及其目录结构说明-05-58" class="headerlink" title="5-2  JMeter下载安装及其目录结构说明 (05:58)"></a>5-2  JMeter下载安装及其目录结构说明 (05:58)</h2><p><a href="jmeter.apache.org">JMeter官网</a><br>点击Download Releases，下载2.11 Binaries</p>
<h2 id="5-3-JMeter基本功能介绍-16-37"><a href="#5-3-JMeter基本功能介绍-16-37" class="headerlink" title="5-3 JMeter基本功能介绍 (16:37)"></a>5-3 JMeter基本功能介绍 (16:37)</h2><p>目录bin中，打开jmeter.bat</p>
<ul>
<li>Test plan：测试计划，以什么样的方式去执行测试</li>
<li>WorkBench：工作区，可以预编辑</li>
</ul>
<p>Test plan 右键 Add -&gt; Threads(Uesrs) -&gt;  Thread Group<br>Thread Group用户组，代表具有相同行为属性的用户</p>
<p>目录bin中，打开jmeter.properties可以设置语言环境 22行改成<code>language=en</code>保存后重新打开jmeter.bat。</p>
<p>可以设置“请求后遇到错误的处理方式”：</p>
<ul>
<li>continue:继续执行</li>
<li>Start Next Thread Loop 重新执行</li>
<li>Stop Thread 停掉线程</li>
<li>Stop Test 停掉测试(等已经开始的线程全部结束之后再停止）</li>
<li>Stop Test Now 立即停掉测试</li>
</ul>
<p>参数：</p>
<ul>
<li>模拟用户的人数</li>
<li>在多长时间内把全部任务都启动起来。一般设为1，不用阶梯递增。</li>
<li>执行次数，选择forever，循环发送请求，除非有登录</li>
<li>schedule 执行测试计划，勾选，并填空</li>
</ul>
<p>在新建的Thread Group上 右键 右键 Add -&gt; Sampler 请求-&gt;  一般选择HTTP Request<br>Add -&gt; Logic Controller -&gt;  随机执行等逻辑控制器<br>Add -&gt; Config Element 配置信息<br>Add -&gt; Pre Processors 预处理<br>Add -&gt; Timer 定时器 -&gt;  ConstantTimer 等 设置执行时间<br>Add -&gt; Post Processors 后续处理<br>Add -&gt; Assertions 断言<br>Add -&gt; Listener 监听器 -&gt;  Simple Data Writer等 执行结果、性能</p>
<p>Run里面</p>
<ul>
<li>Start 开始</li>
<li>Remote Start 分步测试某一个，用于调试</li>
<li>Remote Start All 分步测试所有</li>
<li>Clear 初始化</li>
<li>ClearAll 全部初始化</li>
</ul>
<h2 id="5-4-使用Jmeter对性能测试脚本进行录制和回放-22-43"><a href="#5-4-使用Jmeter对性能测试脚本进行录制和回放-22-43" class="headerlink" title="5-4 使用Jmeter对性能测试脚本进行录制和回放 (22:43)"></a>5-4 使用Jmeter对性能测试脚本进行录制和回放 (22:43)</h2><p>自动化的一般方法</p>
<h3 id="录制"><a href="#录制" class="headerlink" title="录制"></a>录制</h3><p>1.WorkBench -&gt; 右键 Add  -&gt; Non-Test Elements -&gt;HTTP(S) Test Script Recorder<br>是一个代理服务器<br>需要录制的在”URL Patterns to Include”，不需要录制的在”URL Patterns to Exclude”，其中，点击“Add suggested Exclude”，显示录制时要屏蔽的内容<code>.*\.(bmp|css|js|gif|ico|jpe?g|png|swf|woff)</code>，即一些静态文件</p>
<p>2.WorkBench -&gt; 右键 Add  -&gt; Logic Controller -&gt; Transaction Controller</p>
<p>3.Transaction Controller -&gt; 右键 Add -&gt; Config Element  -&gt;  HTTP Request Defaults，他和sampler成对出现。只有先添加一个配置，才能去添加对应的sampler（请求）</p>
<p>4.Transaction Controller -&gt; 右键 Add -&gt; Logic Controller  -&gt; Recording Controller</p>
<p>5.HTTP(S) Test Script Recorder 中的 targetController 用于存放录制的东西，选择WorkBench &gt; Transaction Controller</p>
<p>Port 代理服务器端口<br>6.Start</p>
<p>7.代理服务器 IE浏览器 -&gt; 工具 -&gt; Internet 选项 -&gt; 连接 -&gt; 局域网设置 -&gt; 代理服务器 填好 localhost 端口</p>
<p>8.监控数据<br>HTTP(S) Test Script Recorder -&gt; 右键 Add -&gt; Listener -&gt;  View Result Trees</p>
<p>9.打开ecshop（根目录首页、点击某个手机类型、点击某个物品详情），生成的动作在Transaction Controller里出现</p>
<h3 id="回放"><a href="#回放" class="headerlink" title="回放"></a>回放</h3><p>1.用户组1 -&gt; 右键 Add -&gt; Config Element  -&gt;  HTTP Request Defaults<br>里面有ip、协议、path。有了它才能添加sampler，他们成对出现。 </p>
<p>2.把动作复制到用户组1下，保持顺序。</p>
<p>3.点击用户组1，数据都设为1</p>
<p>4.用户组1 -&gt; 右键 Add  -&gt; Listener -&gt;  Aggregate Rreport</p>
<p>5.用户组1 -&gt; 右键 Add  -&gt; Listener -&gt;  View Result Trees<br>6.停止录制，停止浏览器里的代理服务器<br>7.保存test plan，执行start，上方绿色三角<br>8.Aggregate Rreport 出现响应时间、数据量等。<br>9.View Result Trees</p>
<h2 id="5-5-测试脚本参数化-15-23"><a href="#5-5-测试脚本参数化-15-23" class="headerlink" title="5-5 测试脚本参数化 (15:23)"></a>5-5 测试脚本参数化 (15:23)</h2><p>1.点击根目录动作，ip和port需要参数化</p>
<p>2.点击类型动作，ip和port，类型id需要参数化<br>打开左边的加号，出现HTTP Header Manager，其中referer的IP和port需要参数化</p>
<p>3.点击货品动作，ip和port，货品id 需要参数化<br>打开类型动作左边的加号，出现HTTP Header Manager，referer需要参数化</p>
<p>4.用户组1 -&gt; 右键 Add -&gt; Config Element -&gt; User Defined Variables</p>
<p>Add 设置两个用户变量和对应的值：</p>
<ul>
<li>IP </li>
<li>PORT</li>
</ul>
<p>5.点击三个动作的HTTP Request，将ServerNameOrIP改为<code>$&#123;IP&#125;</code>，将PortNumber改为<code>$&#123;PORT&#125;</code><br>6.在类型和货品里，还需要将HTTP Header Manager中的Referer对应的值改为类似于 <code>http://$&#123;IP&#125;:$&#123;PORT&#125;</code></p>
<p>7.bin目录下新建data目录，新建catgd.csv<br>其中有三种类型</p>
<ul>
<li>GSM手机</li>
<li>双模手机</li>
<li>手机配件</li>
</ul>
<p>id分别是3，5，6</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3,9</span><br><span class="line">5,8</span><br><span class="line">6,3</span><br></pre></td></tr></table></figure>
<p>Encoding 设为 UTF-8 without BOM</p>
<p>8.用户组1 -&gt; 右键 Add -&gt; Config Element -&gt; CSV Data Set Config<br>Filename:  <code>./data/catgd.csv</code><br>File encoding: <code>utf-8</code><br>Variable Names (comma delimited): <code>catid,gdid</code><br>Delimiter (use ‘u’ for lab):<code> ,</code><br>Allow quoted data?; <code>False</code><br>Recycle on EOF ?: <code>True</code><br>Stop thread on EOF ?: <code>False</code><br>Sharing mode:<code>All threads</code></p>
<p>9.点击三个动作的HTTP Request、referer，将id的值相应改为<code>$&#123;catid&#125;</code>和<code>$&#123;gdid&#125;</code></p>
<p>10.保存，点击上方两个并排的扫帚“ClearAll”按钮清理report，Start重新执行</p>
<h2 id="5-6-用PostProcessor获取响应中的关键数据-19-21）"><a href="#5-6-用PostProcessor获取响应中的关键数据-19-21）" class="headerlink" title="5-6 用PostProcessor获取响应中的关键数据 (19:21）"></a>5-6 用PostProcessor获取响应中的关键数据 (19:21）</h2><p>判断每个 sampler 返回的页面是否正确<br>用浏览器审查元素，比如GSM手机对应的类型id的返回页面中检测到了“GSM手机”说明正确。</p>
<h3 id="CSS-JQuery-Extractor"><a href="#CSS-JQuery-Extractor" class="headerlink" title="CSS/JQuery Extractor"></a>CSS/JQuery Extractor</h3><p>1.点击category.php -&gt; 右键 Add -&gt; Post Processors -&gt; CSS/JQuery Extractor</p>
<p>Reference Name:<code>ur_here</code><br>CSS/JQuery expression:<code>#ur_here a:last-child</code><br>Attribute:<code>href</code><br>Match No.(0 for Random): <code>1</code><br>Default Value:<code>na</code></p>
<p>2.点击category.php -&gt; 右键 Add -&gt; Assertion -&gt; Bean Shell Assertion<br>负责校验<br>勾选Reset bsh.Interpreter before each call<br>Parameters (-&gt; String Parameters and String[]bsh.args)  <code> $&#123;ur_here&#125; $&#123;catid&#125;</code>空格区分</p>
<p>3.下方脚本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(bsh.args[0]);//打印$&#123;ur_here&#125;，1的话打印$&#123;catid&#125;</span><br></pre></td></tr></table></figure>
<p>start执行</p>
<p>建议用这个</p>
<h3 id="Regular-Expression-Extractor"><a href="#Regular-Expression-Extractor" class="headerlink" title="Regular Expression Extractor"></a>Regular Expression Extractor</h3><p>点击category.php -&gt; 右键 Add -&gt; Post Processors -&gt; Regular Expression Extractor</p>
<p>Reference Name:<code>ur_here</code><br>Reguar Expression:<code>id=&quot;(ur_here)&quot;</code><br>Template:<code>$1$</code>第一个自查询的结果<br>Match No.(0 for Random): <code>1</code><br>Default Value:<code>na</code></p>
<p>太难了不建议用</p>
<h3 id="XPath-Extractor"><a href="#XPath-Extractor" class="headerlink" title="XPath Extractor"></a>XPath Extractor</h3><p>1.点击category.php -&gt; 右键 Add -&gt; Post Processors -&gt; XPath Extractor<br>勾选 use tidy<br>Reference Name:<code>ur_here</code><br>XPath query:<code>//div[@id=&quot;ur_here&quot;]</code><br>Default Value:<code>na</code></p>
<p>必须在html写得很规范时才能用</p>
<h2 id="5-7-用BeanShellAssertion判断响应是否正确-13-13"><a href="#5-7-用BeanShellAssertion判断响应是否正确-13-13" class="headerlink" title="5-7 用BeanShellAssertion判断响应是否正确 (13:13)"></a>5-7 用BeanShellAssertion判断响应是否正确 (13:13)</h2><p>BeanShell轻量级java脚本语言<br>BeanShell接收用空格区分的参数，用Java处理，要写清楚类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">java.util.regex.Pattern p=java.util.regex.Pattern.compile(<span class="string">&quot;id= (\\d+)&quot;</span>);</span><br><span class="line"><span class="comment">//把要定位的节点的正则表达式预编译</span></span><br><span class="line">java.util.regex.Matcher m=p.matcher(bsh.args[<span class="number">0</span>]);</span><br><span class="line"><span class="comment">//匹配器检查有多少节点匹配定义的参数</span></span><br><span class="line"><span class="keyword">boolean</span> found= m.find();<span class="comment">//查找匹配的节点</span></span><br><span class="line"><span class="keyword">if</span>(found)&#123;</span><br><span class="line">  <span class="keyword">if</span>(!m.group(<span class="number">1</span>).equals(bsh.args[<span class="number">1</span>]))&#123;<span class="comment">//group为找到的结果集</span></span><br><span class="line">  <span class="comment">//m.group(1)中的1为第一个节点，是我们要的节点。bsh.arg[1]为Beanshell Assertion的parameters的第二个参数$&#123;brandid&#125;，作为校验标准</span></span><br><span class="line">    Failure=<span class="keyword">true</span>;</span><br><span class="line">    FailureMessage = m.group(<span class="number">1</span>) + <span class="string">&quot;&lt;&gt;&quot;</span> +bsh.args[<span class="number">1</span>];<span class="comment">//当Failure为true时，可输出错误信息 </span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> Failure = <span class="keyword">true</span>;</span><br></pre></td></tr></table></figure>

<p>start运行</p>
<h2 id="5-8-用BSF-Assertion判断响应是否正确-06-48"><a href="#5-8-用BSF-Assertion判断响应是否正确-06-48" class="headerlink" title="5-8 用BSF Assertion判断响应是否正确 (06:48)"></a>5-8 用BSF Assertion判断响应是否正确 (06:48)</h2><p>BSFAssertion<br>language:<code>javascript</code><br>parameters: <code>$&#123;catid&#125; $&#123;gdid&#125;</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">OUT.println (args[<span class="number">0</span>]);</span><br><span class="line"><span class="keyword">var</span> re = <span class="keyword">new</span> RegExp(<span class="string">&quot;id= (\\d+) &quot;</span>,<span class="string">&quot;ig&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> arr= re.exec(args[<span class="number">0</span>]);</span><br><span class="line"><span class="keyword">if</span> (!RegExp.$<span class="number">1</span> || RegExp.$<span class="number">1</span> == args[<span class="number">1</span>])&#123;</span><br><span class="line">  AssertionResult.setFailure(<span class="keyword">true</span>);</span><br><span class="line">  AssertionResult.setFailureMessage(RegExp.$<span class="number">1</span>+<span class="string">&quot;&lt;&gt;&quot;</span> + args[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-9-JMeter中的其他断言方法-02-08"><a href="#5-9-JMeter中的其他断言方法-02-08" class="headerlink" title="5-9 JMeter中的其他断言方法 (02:08)"></a>5-9 JMeter中的其他断言方法 (02:08)</h2><p>略</p>
<h2 id="5-10-JMeter中模拟用户的等待行为-06-13"><a href="#5-10-JMeter中模拟用户的等待行为-06-13" class="headerlink" title="5-10 JMeter中模拟用户的等待行为 (06:13)"></a>5-10 JMeter中模拟用户的等待行为 (06:13)</h2><p>模拟用户点击之间的停留时间<br>用户组1 -&gt; 右键 Add -&gt; Timer -&gt; Bean Shell Timer -&gt; Constant timer<br>用于在Sampler A和Sampler B之间的等待时间<br>Poisson和Gussian Timer比较符合用户的实际情况</p>
<p>顺序如图：<br><img src="/images/ST_PerformanceTestingTools/CB30A7A7DBE174E183C8F90FEAC8E776.png" alt="test12.png"></p>
<h2 id="5-11-执行性能测试并在执行过程中监控性能-11-46"><a href="#5-11-执行性能测试并在执行过程中监控性能-11-46" class="headerlink" title="5-11 执行性能测试并在执行过程中监控性能 (11:46)"></a>5-11 执行性能测试并在执行过程中监控性能 (11:46)</h2><p>调整用户组数据：<br>线程数量设为100，第二行填1，勾选forever，保存<br>clear all<br>top<br>启动Start<br>看top的实时性能监控<br>停止Stop</p>
<h2 id="5-12-本章小结-01-20"><a href="#5-12-本章小结-01-20" class="headerlink" title="5-12 本章小结 (01:20)"></a>5-12 本章小结 (01:20)</h2><p>略</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/SoftwareTest/" rel="tag"># SoftwareTest</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2018/03/24/STH3/" rel="prev" title="【软件测试】03 图覆盖">
      <i class="fa fa-chevron-left"></i> 【软件测试】03 图覆盖
    </a></div>
      <div class="post-nav-item">
    <a href="/2018/04/13/ST_Lab2Selenium/" rel="next" title="【软件测试上机】2 Selenium">
      【软件测试上机】2 Selenium <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1%E7%AB%A0-%E8%83%8C%E6%99%AF%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.</span> <span class="nav-text">1章 背景介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E8%83%8C%E6%99%AF%E4%BB%8B%E7%BB%8D-07-33"><span class="nav-number">1.1.</span> <span class="nav-text">1-1 性能测试背景介绍 (07:33)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-%E8%AF%BE%E7%A8%8B%E7%AE%80%E4%BB%8B-00-45"><span class="nav-number">1.2.</span> <span class="nav-text">2-1 课程简介 (00:45)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-%E5%85%B3%E4%BA%8E%E6%80%A7%E8%83%BD%E7%9A%84%E5%87%A0%E4%B8%AA%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90-05-02"><span class="nav-number">1.3.</span> <span class="nav-text">2-2 关于性能的几个案例分析(05:02)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-%E6%80%A7%E8%83%BD%E7%9A%84%E5%85%B3%E9%94%AE%E6%8C%87%E6%A0%87%E4%BB%8B%E7%BB%8D-11-03"><span class="nav-number">1.4.</span> <span class="nav-text">2-3 性能的关键指标介绍 (11:03)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">1.4.1.</span> <span class="nav-text">性能测试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="nav-number">1.4.2.</span> <span class="nav-text">性能指标</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B9%B3%E5%9D%87%E5%93%8D%E5%BA%94%E6%97%B6%E9%97%B4-TTLB-Time-to-laster-by"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">平均响应时间(TTLB,Time to laster by)</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%90%88%E7%90%86%E7%9A%84%E5%B9%B3%E5%9D%87%E5%93%8D%E5%BA%94%E6%97%B6%E9%97%B4%EF%BC%9A2-5-10%E5%8E%9F%E5%88%99"><span class="nav-number">1.4.2.1.1.</span> <span class="nav-text">合理的平均响应时间：2&#x2F;5&#x2F;10原则</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B9%B3%E5%9D%87%E5%93%8D%E5%BA%94%E6%97%B6%E9%97%B4%E4%B8%9A%E5%8A%A1%E5%BD%B1%E5%93%8D"><span class="nav-number">1.4.2.1.2.</span> <span class="nav-text">平均响应时间业务影响</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E7%B1%BB%E7%9A%84%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">系统资源类的性能指标</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%BF%9B%E8%A1%8C%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95-01-59"><span class="nav-number">1.5.</span> <span class="nav-text">2-4  为什么要进行性能测试 (01:59)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%BF%9B%E8%A1%8C%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">1.5.1.</span> <span class="nav-text">为什么要进行性能测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5-%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%88%86%E7%B1%BB-03-57"><span class="nav-number">1.6.</span> <span class="nav-text">2-5  性能测试分类 (03:57)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E7%9A%84%E4%B8%80%E8%88%AC%E5%88%86%E7%B1%BB"><span class="nav-number">1.6.1.</span> <span class="nav-text">性能测试的一般分类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-%E4%BD%BF%E7%94%A8Top%E8%8E%B7%E5%8F%96%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%B5%84%E6%BA%90%E5%8D%A0%E7%94%A8%E4%BF%A1%E6%81%AF-09-30"><span class="nav-number">1.7.</span> <span class="nav-text">3-1 使用Top获取进程的资源占用信息 (09:30)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="nav-number">1.7.1.</span> <span class="nav-text">准备工作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7-top"><span class="nav-number">1.7.2.</span> <span class="nav-text">性能测试工具 top</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-%E6%80%A7%E8%83%BD%E7%BB%9F%E8%AE%A1%E5%B7%A5%E5%85%B7sysstat%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE-06-00"><span class="nav-number">1.8.</span> <span class="nav-text">3-2 性能统计工具sysstat安装配置 (06:00)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7-sysstat"><span class="nav-number">1.8.1.</span> <span class="nav-text">性能测试工具 sysstat</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-sysstat%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%B9%8BCPU%E7%9B%91%E6%8E%A7-09-04"><span class="nav-number">1.9.</span> <span class="nav-text">3-3 sysstat常用命令之CPU监控 (09:04)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-sysstat%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%B9%8B%E5%86%85%E5%AD%98%E7%9B%91%E6%8E%A7-06-28"><span class="nav-number">1.10.</span> <span class="nav-text">3-4 sysstat常用命令之内存监控 (06:28)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#sar-r-f-sa25-%E5%86%85%E5%AD%98%E5%AE%9E%E9%99%85%E5%8D%A0%E7%94%A8%E7%99%BE%E5%88%86%E6%AF%94"><span class="nav-number">1.10.1.</span> <span class="nav-text">sar -r -f sa25  内存实际占用百分比</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sar-B-f-sa25-%E4%B8%BB%E5%AD%98-%E5%86%85%E5%AD%98-%E4%B8%8E%E5%9D%97%E8%AE%BE%E5%A4%87-%E7%A1%AC%E7%9B%98-%E4%B9%8B%E9%97%B4%E6%8D%A2%E9%A1%B5%E9%A2%91%E7%B9%81%E7%A8%8B%E5%BA%A6"><span class="nav-number">1.10.2.</span> <span class="nav-text">sar -B -f sa25 主存(内存)与块设备(硬盘)之间换页频繁程度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sar-w-f-sa25-%E6%8C%87%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E4%B8%AD-%E4%BB%8E%E5%9D%97%E8%AE%BE%E5%A4%87swap%E5%8C%BA%E4%B8%AD%E8%AF%BB%E5%85%A5-%E8%AF%BB%E5%87%BA%E7%9A%84%E9%A1%B5%E6%95%B0"><span class="nav-number">1.10.3.</span> <span class="nav-text">sar -w -f sa25 指虚拟内存中,从块设备swap区中读入&#x2F;读出的页数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5-sysstat%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%B9%8BIO%E7%9B%91%E6%8E%A7-04-47"><span class="nav-number">1.11.</span> <span class="nav-text">3-5 sysstat常用命令之IO监控 (04:47)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#sar-b-f-sa25-IO%E7%9A%84%E9%A2%91%E7%B9%81%E7%A8%8B%E5%BA%A6"><span class="nav-number">1.11.1.</span> <span class="nav-text">sar -b -f sa25 IO的频繁程度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sar-d-f-sa25-%E6%89%87%E5%8C%BA"><span class="nav-number">1.11.2.</span> <span class="nav-text">sar -d -f sa25 扇区</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-6-sysstat%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%B9%8BNetWork%E7%9B%91%E6%8E%A7-02-38"><span class="nav-number">1.12.</span> <span class="nav-text">3-6 sysstat常用命令之NetWork监控 (02:38)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#sar-n-DEV-f-sa25-%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E4%BA%A4%E6%8D%A2%E7%9A%84%E9%87%8F"><span class="nav-number">1.12.1.</span> <span class="nav-text">sar -n DEV -f sa25 网络数据交换的量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sar-n-NFS-f-sa25-%E7%BD%91%E7%BB%9C%E9%94%99%E8%AF%AF"><span class="nav-number">1.12.2.</span> <span class="nav-text">sar -n NFS -f sa25 网络错误</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-7-%E8%AF%84%E4%BC%B0%E7%A3%81%E7%9B%98%E8%AF%BB%E5%86%99%E6%80%A7%E8%83%BD%E6%9E%81%E9%99%90-04-27"><span class="nav-number">1.13.</span> <span class="nav-text">3-7 评估磁盘读写性能极限 (04:27)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7-fio"><span class="nav-number">1.13.1.</span> <span class="nav-text">性能测试工具 fio</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-8-JMeter%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7%E7%AE%80%E4%BB%8B-01-18"><span class="nav-number">1.14.</span> <span class="nav-text">3-8 JMeter性能测试工具简介 (01:18)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7-JMeter"><span class="nav-number">1.14.1.</span> <span class="nav-text">性能测试工具 JMeter</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4%E7%AB%A0-%E8%A2%AB%E6%B5%8B%E7%B3%BB%E7%BB%9F%E5%87%86%E5%A4%87"><span class="nav-number">2.</span> <span class="nav-text">4章 被测系统准备</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-%E8%A2%AB%E6%B5%8B%E7%B3%BB%E7%BB%9FECShop%E4%BB%8B%E7%BB%8D-01-59"><span class="nav-number">2.1.</span> <span class="nav-text">4-1 被测系统ECShop介绍 (01:59)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ECShop-%E7%AE%80%E4%BB%8B"><span class="nav-number">2.1.1.</span> <span class="nav-text">ECShop 简介</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-%E8%A2%AB%E6%B5%8B%E7%B3%BB%E7%BB%9FECShop%E5%AE%89%E8%A3%85-18-32"><span class="nav-number">2.2.</span> <span class="nav-text">4-2 被测系统ECShop安装 (18:32)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ECShop-%E5%AE%89%E8%A3%85"><span class="nav-number">2.2.1.</span> <span class="nav-text">ECShop 安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WinSCP-%E4%B8%8A%E4%BC%A0%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number">2.2.2.</span> <span class="nav-text">WinSCP 上传本地文件到服务器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-%E8%A2%AB%E6%B5%8B%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD%E7%AE%80%E4%BB%8B-05-35"><span class="nav-number">2.3.</span> <span class="nav-text">4-3 被测系统功能简介 (05:35)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-1-JMeter%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-04-02"><span class="nav-number">2.4.</span> <span class="nav-text">5-1 JMeter工作原理 (04:02)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-2-JMeter%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E5%8F%8A%E5%85%B6%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E8%AF%B4%E6%98%8E-05-58"><span class="nav-number">2.5.</span> <span class="nav-text">5-2  JMeter下载安装及其目录结构说明 (05:58)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-3-JMeter%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D-16-37"><span class="nav-number">2.6.</span> <span class="nav-text">5-3 JMeter基本功能介绍 (16:37)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-4-%E4%BD%BF%E7%94%A8Jmeter%E5%AF%B9%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E8%84%9A%E6%9C%AC%E8%BF%9B%E8%A1%8C%E5%BD%95%E5%88%B6%E5%92%8C%E5%9B%9E%E6%94%BE-22-43"><span class="nav-number">2.7.</span> <span class="nav-text">5-4 使用Jmeter对性能测试脚本进行录制和回放 (22:43)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BD%95%E5%88%B6"><span class="nav-number">2.7.1.</span> <span class="nav-text">录制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%9E%E6%94%BE"><span class="nav-number">2.7.2.</span> <span class="nav-text">回放</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-5-%E6%B5%8B%E8%AF%95%E8%84%9A%E6%9C%AC%E5%8F%82%E6%95%B0%E5%8C%96-15-23"><span class="nav-number">2.8.</span> <span class="nav-text">5-5 测试脚本参数化 (15:23)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-6-%E7%94%A8PostProcessor%E8%8E%B7%E5%8F%96%E5%93%8D%E5%BA%94%E4%B8%AD%E7%9A%84%E5%85%B3%E9%94%AE%E6%95%B0%E6%8D%AE-19-21%EF%BC%89"><span class="nav-number">2.9.</span> <span class="nav-text">5-6 用PostProcessor获取响应中的关键数据 (19:21）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#CSS-JQuery-Extractor"><span class="nav-number">2.9.1.</span> <span class="nav-text">CSS&#x2F;JQuery Extractor</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Regular-Expression-Extractor"><span class="nav-number">2.9.2.</span> <span class="nav-text">Regular Expression Extractor</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#XPath-Extractor"><span class="nav-number">2.9.3.</span> <span class="nav-text">XPath Extractor</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-7-%E7%94%A8BeanShellAssertion%E5%88%A4%E6%96%AD%E5%93%8D%E5%BA%94%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE-13-13"><span class="nav-number">2.10.</span> <span class="nav-text">5-7 用BeanShellAssertion判断响应是否正确 (13:13)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-8-%E7%94%A8BSF-Assertion%E5%88%A4%E6%96%AD%E5%93%8D%E5%BA%94%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE-06-48"><span class="nav-number">2.11.</span> <span class="nav-text">5-8 用BSF Assertion判断响应是否正确 (06:48)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-9-JMeter%E4%B8%AD%E7%9A%84%E5%85%B6%E4%BB%96%E6%96%AD%E8%A8%80%E6%96%B9%E6%B3%95-02-08"><span class="nav-number">2.12.</span> <span class="nav-text">5-9 JMeter中的其他断言方法 (02:08)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-10-JMeter%E4%B8%AD%E6%A8%A1%E6%8B%9F%E7%94%A8%E6%88%B7%E7%9A%84%E7%AD%89%E5%BE%85%E8%A1%8C%E4%B8%BA-06-13"><span class="nav-number">2.13.</span> <span class="nav-text">5-10 JMeter中模拟用户的等待行为 (06:13)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-11-%E6%89%A7%E8%A1%8C%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B9%B6%E5%9C%A8%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9B%91%E6%8E%A7%E6%80%A7%E8%83%BD-11-46"><span class="nav-number">2.14.</span> <span class="nav-text">5-11 执行性能测试并在执行过程中监控性能 (11:46)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-12-%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93-01-20"><span class="nav-number">2.15.</span> <span class="nav-text">5-12 本章小结 (01:20)</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="VikingWang"
      src="/images/avatar.JPG">
  <p class="site-author-name" itemprop="name">VikingWang</p>
  <div class="site-description" itemprop="description">这是一个需要耐心等着加载的博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">39</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2018 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">VikingWang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
